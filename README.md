# Health Survey Cluster Analysis

## Project Overview
This project analyzes the 2022 NHIS (National Health Interview Survey) data to identify patterns and clusters among health indicators with R. Using exploratory data analysis, dimensionality reduction techniques, and clustering algorithms, this analysis aims to uncover meaningful segments within health survey respondents.

### Completed Work
* **[data preprocessing](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/data_preprocessing.ipynb)**: Code used to preprocess the inital 2022 NHIS survey data, exported as [adult22_filtered.csv](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/data/adult22_filtered.csv)
* **[data understanding](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/data_understanding.ipynb)**: Analysis of dataset dimensions, variable types (categorical vs numerical, ordinal vs nominal), and data completeness. 
* **[univariate analysis](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/univariate_analysis.ipynb)**: Analysis of individual variables with:
  * Numerical variables: Summary statistics, density plots, and boxplots.
  * Categorical variables: Bar plots and proportion tables.
* **[numerical bivariate analysis](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/bivariate_analysis_notebooks/numerical_bivariate_analysis.ipynb)**: Correlation heatmap and scatterplots for numerical variables.
* **[categorical mixed bivariate analysis](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/bivariate_analysis_notebooks/categorical_mixed_bivariate_analysis.ipynb)**: Contingency tables, chi-square tests, stacked bar charts, group-wise statistics, t-tests, and ANOVA results.
* **[Conditional Plots Multivariate Analysis](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/multivariate_analysis_notebooks/conditional_plots_multivariate_analysis.ipynb)**: Creating conditional plots (scatterplot grouped by categorical variable, but different plots for each category). Each graph can be found here : **[Conditional Plots](https://github.com/Cstan1987stat/health-survey-cluster-analysis/tree/main/graphs/conditional_plots)**. 
* **[Pair Plots Multivariate Analysis](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/multivariate_analysis_notebooks/pair_plots_multivariate_analysis.ipynb)**: Creating pair plots for each categorical variable (including scatterplot grouped by category, density plots grouped by category, and correlation values for each category). All plots can be found here: **[Pairplots](https://github.com/Cstan1987stat/health-survey-cluster-analysis/tree/main/graphs/pair_plots)**.
* **[Outlier Check and Feature Engineering](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/outlier_check_feature_engineering.ipynb)**: Checking for outliers, scaling numeric variables, one-hot encoding categorical variables, and exporting data as [adult22_transformed_e.csv](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/data/adult22_transformed_e.csv). Also scaled only the numeric variables, leaving categorical variables as is, and exported as [adult22_transformed_n.csv](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/data/adult22_transformed_n.csv).
* **[FAMD](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/famd_notebook.ipynb)**: Applying factor analysis for mixed data to **adult22_transformed_n.csv** and exported all created dimensions as **[famd_coord.csv](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/data/famd_coord.csv)**.
* **[Initial Kmeans Clustering](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/initial_kmeans_clustering.ipynb)**: Applying kmeans clustering to the first 20 columns of **[famd_coord.csv](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/data/famd_coord.csv)**, decided on 5 clusters, and exported initial data with the clusters as **[data_w_5_clusters.csv](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/data/data_w_5_clusters.csv)**.
*  **[Numerical Cluster Analysis](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/cluster_analysis.ipynb)**: Analyzing the clusters by examining the numerical features of the data. Summary statistics were calculated for each cluster, and boxplots were created to visually explore the distribution of features across clusters. Additionally, decision trees were fitted and interpreted to uncover the key patterns and relationships driving the cluster assignments.
*  **[Categorical cluster Analysis](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/categorical_cluster_analysis.ipynb)**: Analyzing the clusters by examing the categorical features of the data. Includes contingency tables, proportion plots, and basic decision trees to explore patterns and relationships within the cluster assignments.
*  **[UMAP KMeans Hclust](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/notebooks/umap_kmeans_hclust.ipynb)**: Removed the Education, Region, and clusters feature from **data_w_5_clusters**. Used created functions from (Helper Functions)[https://github.com/Cstan1987stat/Help-Functions] to standard scale numeric variables and one-hot encode categorical variables followed by scaling. Then used UMAP to create 6 dimensions, and performed kmeans and hclust (complete, single, and average linkage) on the 6 dimensions. Used mean silhouette score and determined 4 clusters from kmeans and 5 clusters found using average linkage were the best Added these to original health features from earlier (not transformed), and exported as **[adult_22_two_clust.csv](https://github.com/Cstan1987stat/health-survey-cluster-analysis/blob/main/data/adult_22_two_clust.csv)**.
